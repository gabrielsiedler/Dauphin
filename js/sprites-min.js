(function(a){a.fn.sprites=function(b){return this.each(function(){var c=a(this),d=c.data("sprites"),e={ready:!1,method:"corners",pasta:"<div></div>",hover:!1,altEventIn:"hoverin",altEventOut:"hoverout",duration:300,easing:"linear",crossFade:!0,processFu:function(){(({vStretch:function(){e.layers=e.layers||{},e.corners=e.corners||{},e.tails=e.tails||{},e.layers.t=e.corners.t=e.etal.clone().css({top:0,backgroundPosition:"0 0"}),e.layers.b=e.corners.b=e.etal.clone().css({bottom:0,backgroundPosition:"-"+e.width/3+"px 0"}),e.layers.c=e.tails.c=e.etal.clone().css({top:e.height,bottom:e.height,backgroundPosition:"-"+e.width/3*2+"px 0",backgroundRepeat:"repeat-y"}),a.each(e.layers,function(a,b){b.css({position:"absolute",backgroundImage:e.url,zIndex:-1,left:0,width:e.width/3}).appendTo(e.me)}),a.each(e.corners,function(a,b){b.css({height:e.height})}),e.me.css({background:"none"})},gStretch:function(){var b=e.hover?e.height/6:e.height/3;e.layers=e.layers||{},e.corners=e.corners||{},e.tails=e.tails||{},e.hovers=e.hovers||{},e.layers.l=e.corners.l=e.etal.clone().css({left:0,backgroundPosition:"0 0"}),e.layers.r=e.corners.r=e.etal.clone().css({right:0,backgroundPosition:"0 -"+b+"px"}),e.layers.c=e.tails.c=e.etal.clone().css({right:e.width,left:e.width,backgroundPosition:"0 -"+b*2+"px"}),a.each(e.layers,function(a,c){c.css({position:"absolute",backgroundImage:e.url,zIndex:-1,top:0,height:b}).appendTo(e.me)}),a.each(e.corners,function(a,b){b.css({width:e.width})}),e.hover&&(a.each(e.layers,function(b,c){e.hovers[b]=c.clone().appendTo(e.me).hide(),a.browser.msie&&a.browser.version<9||e.hovers[b].css({opacity:0})}),e.hovers.l.css({backgroundPosition:"0 -"+b*3+"px"}),e.hovers.r.css({backgroundPosition:"0 -"+b*4+"px"}),e.hovers.c.css({backgroundPosition:"0 -"+b*5+"px"})),e.me.css({background:"none"})},simple:function(){e.layers=e.layers||{},e.hovers=e.hovers||{},e.layers.bg=e.etal.clone().css({left:0,top:0,zIndex:-1,width:e.width,height:e.height/2,backgroundImage:e.url,backgroundRepeat:"no-repeat",backgroundPosition:"0 0"}).appendTo(e.me),e.hovers.bg=e.etal.clone().css({left:0,top:0,zIndex:-1,width:e.width,height:e.height/2,backgroundImage:e.url,backgroundRepeat:"no-repeat",backgroundPosition:"0 -"+e.height/2+"px"}).appendTo(e.me),a.browser.msie&&a.browser.version<9?e.hovers.bg.hide():e.hovers.bg.css({opacity:0}),e.me.css({background:"none"})},corners:function(){e.layers=e.layers||{},e.corners=e.corners||{},e.tails=e.tails||{},e.layers["l-t"]=e.corners["l-t"]=e.etal.clone().css({left:0,top:0,backgroundPosition:"0 0"}),e.layers["r-t"]=e.corners["r-t"]=e.etal.clone().css({right:0,top:0,backgroundPosition:"-"+e.width/4+"px 0"}),e.layers["l-b"]=e.corners["l-b"]=e.etal.clone().css({left:0,bottom:0,backgroundPosition:"0 -"+e.height/4+"px"}),e.layers["r-b"]=e.corners["r-b"]=e.etal.clone().css({right:0,bottom:0,backgroundPosition:"-"+e.width/4+"px -"+e.height/4+"px"}),e.layers["t-l"]=e.etal.clone().css({left:0,top:e.height/4,bottom:e.height/4,width:e.width/4,backgroundPosition:"-"+e.width/2+"px 0"}),e.layers["t-l-c"]=e.layers["t-l"].clone().css({backgroundPosition:"-"+e.width/2+"px -"+e.height/2+"px"}),e.layers["t-r"]=e.etal.clone().css({right:0,top:e.height/4,bottom:e.height/4,width:e.width/4,backgroundPosition:"-"+(e.width/2+e.width/4)+"px 0"}),e.layers["t-r-c"]=e.layers["t-r"].clone().css({backgroundPosition:"-"+(e.width/2+e.width/4)+"px -"+e.height/2+"px"}),e.layers["t-t"]=e.etal.clone().css({top:0,height:e.height/4,left:e.width/4,right:e.width/4,backgroundPosition:"0 -"+e.height/2+"px"}),e.layers["t-t-c"]=e.layers["t-t"].clone().css({backgroundPosition:"-"+e.width/2+"px -"+e.height/2+"px"}),e.layers["t-b"]=e.etal.clone().css({bottom:0,height:e.height/4,left:e.width/4,right:e.width/4,backgroundPosition:"0 -"+(e.height/2+e.height/4)+"px"}),e.layers["t-b-c"]=e.layers["t-b"].clone().css({backgroundPosition:"-"+e.width/2+"px -"+(e.height/2+e.height/4)+"px"}),e.layers.bgc=e.etal.clone().css({left:e.width/4,right:e.width/4,top:e.height/4,bottom:e.height/4}),a.each(e.layers,function(a,b){b.css({position:"absolute",backgroundImage:e.url,zIndex:-1}).appendTo(e.me)}),a.each(e.corners,function(a,b){b.css({width:e.width/4,height:e.height/4})}),e.layers.bgc.css({background:e.me.css("backgroundColor")}),e.me.css({background:"none"})}}))[e.method]()},showHoverFu:function(){a.each(e.hovers,function(b,c){a.browser.msie&&a.browser.version<9?c.show():c.stop().show().animate({opacity:1},{duration:e.duration,easing:e.easing})}),a.each(e.layers,function(b,c){a.browser.msie&&a.browser.version<9?c.hide():e.crossFade&&c.stop().show().animate({opacity:0},{duration:e.duration,easing:e.easing,complete:function(){c.hide()}})})},hideHoverFu:function(){e.hovers&&a.each(e.hovers,function(b,c){a.browser.msie&&a.browser.version<9?c.hide():c.stop().show().animate({opacity:0},{duration:e.duration,easing:e.easing,complete:function(){c.hide()}})})&&a.each(e.layers,function(b,c){a.browser.msie&&a.browser.version<9?c.show():c.stop().show().animate({opacity:1},{duration:e.duration,easing:e.easing})})},hoverFu:function(){e.hover&&e.me.bind(e.hover===!0?"mouseenter":e.altEventIn,function(){e.showHoverFu(),e.hoverIn(e.me,e)}).bind(e.hover===!0?"mouseleave":e.altEventOut,function(){e.hideHoverFu(),e.hoverOut(e.me,e)})},preFu:function(){var b=a('<img src="">').appendTo("body");e.url=c.css("backgroundImage"),e.src=e.url.replace(/(^url\('?"?)|('?"?\)$)/g,""),e.me.css("position")=="static"&&e.me.css({position:"relative"}),e.me.css("display")=="inline"&&e.me.css({display:"inline-block"}),e.me.css("zIndex")=="auto"&&e.me.css({zIndex:1}),e.etal=a(e.pasta).css({position:"absolute",zIndex:-1}),e.hh=e.me.outerHeight(),e.hw=e.me.outerWidth(),b.css({position:"absolute",left:"-999%",top:"-999%",display:"block"}).load(function(){setTimeout(function(){e.width=b.width(),e.height=b.height(),b.remove(),e.processFu(),e.ready=!0,e.lazyFu&&e.lazyFu()},1)}).attr({src:e.src}),e.hover&&e.hoverFu()},init:function(){e.preFu()},controlFu:function(a){a=="hoverin"&&e.showHoverFu(),a=="hoverout"&&e.hideHoverFu()},hoverIn:function(){},hoverOut:function(){}};d?e=d:c.data({sprites:e}),typeof b=="object"&&a.extend(e,b),e.me||e.init(e.me=c),typeof b=="string"&&(e.ready?e.controlFu(b):e.lazyFu=function(){e.controlFu(b),e.me.trigger("ready")})}),this}})(jQuery)